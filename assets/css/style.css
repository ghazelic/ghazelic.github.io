/* ==========================================================================
   1. FONT LOADING (Self-Hosted Aporetic)
   ========================================================================== */

/* Main Body Text (Regular) */
@font-face {
  font-family: 'Aporetic Sans';
  src: url('../fonts/aporetic-sans-normalregularupright.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

/* Italics */
@font-face {
  font-family: 'Aporetic Sans';
  src: url('../fonts/aporetic-sans-normalregularitalic.ttf') format('truetype');
  font-weight: normal;
  font-style: italic;
  font-display: swap;
}

/* Bold */
@font-face {
  font-family: 'Aporetic Sans';
  src: url('../fonts/aporetic-sans-normalboldupright.ttf') format('truetype');
  font-weight: bold;
  font-style: normal;
  font-display: swap;
}

/* Code Blocks (Mono) */
@font-face {
  font-family: 'Aporetic Sans Mono';
  src: url('../fonts/aporetic-sans-mono-normalregularupright.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

/* ==========================================================================
   2. THEME VARIABLES (Extracted from ef-cyprus-theme.el)
   ========================================================================== */
:root {
  /* --- Canvas Tones --- */
  --bg-main:   #fcf7ef;
  --fg-main:   #242521;
  --bg-dim:    #f0ece0; /* Used for code blocks/quotes */
  --fg-dim:    #59786f; /* Used for metadata/dates */
  --bg-alt:    #e5e3d8;
  --fg-alt:    #7f475a;
  --border:    #c4c0b6;

  /* --- The Palette --- */
  --red-warmer:   #dd0020;
  --red-cooler:   #ca3400;
  --green-warmer: #557400;
  --green-cooler: #00824f;
  --yellow:       #a7601f;
  --yellow-warm:  #bf4400;
  --blue-warmer:  #444fcf;
  --magenta:      #9a456f;
  --cyan-cooler:  #007a9f;
  --cyan-faint:   #4f677f;

  /* --- Semantic Mappings --- */
  --link:         var(--yellow);        /* Matches (fg-link yellow) */
  --link-hover:   var(--yellow-warm);
  --prose-code:   var(--red-cooler);    /* Inline code ~text~ */
  --prose-tag:    var(--fg-dim);        /* Tags :emacs: */
  
  /* --- Headings (Rainbow Mapping) --- */
  --h1: var(--green-warmer); /* rainbow-1 */
  --h2: var(--yellow-warm);  /* rainbow-2 */
  --h3: var(--blue-warmer);  /* rainbow-3 */
  --h4: var(--magenta);      /* rainbow-5 */
}

/* ==========================================================================
   3. GLOBAL STYLES
   ========================================================================== */
html {
  font-size: 19px; /* Aporetic looks best slightly larger */
}

body {
  background-color: var(--bg-main);
  color: var(--fg-main);
  font-family: 'Aporetic Sans', sans-serif;
  line-height: 1.6;
  max-width: 840px;
  margin: 0 auto;
  padding: 2rem 1.5rem;
}

/* --- Typography --- */
h1, h2, h3, h4 {
  font-weight: normal; /* Let the colors do the work, Emacs style */
  margin-top: 1.5em;
  line-height: 1.2;
}

h1 { 
  color: var(--h1); 
  border-bottom: 1px solid var(--border); 
  padding-bottom: 0.3rem; 
  font-size: 1.8em;
}

h2 { color: var(--h2); font-size: 1.5em; }
h3 { color: var(--h3); font-size: 1.3em; }
h4 { color: var(--h4); font-size: 1.1em; font-weight: bold; }

/* --- Links --- */
a {
  color: var(--link);
  text-decoration: none;
  border-bottom: 1px dotted var(--link);
  transition: all 0.2s ease;
}

a:hover {
  color: var(--link-hover);
  border-bottom-style: solid;
  background-color: var(--bg-dim);
}

/* ==========================================================================
   4. CODE BLOCKS & INLINE CODE
   ========================================================================== */
pre {
  background-color: var(--bg-dim);
  border: 1px solid var(--border);
  padding: 1rem;
  border-radius: 4px;
  overflow-x: auto;
  margin: 1.5rem 0;
  
  /* Font Settings */
  font-family: 'Aporetic Sans Mono', monospace;
  font-size: 0.9em;
}

/* Inline code (like ~this~) */
p code, li code {
  font-family: 'Aporetic Sans Mono', monospace;
  color: var(--prose-code);
  background-color: var(--bg-dim);
  padding: 0.1em 0.3em;
  border-radius: 3px;
  font-size: 0.9em;
}

/* ==========================================================================
   5. ORG MODE ELEMENTS
   ========================================================================== */

/* Blockquotes */
blockquote {
  border-left: 4px solid var(--fg-dim);
  margin: 1.5rem 0;
  padding-left: 1rem;
  font-style: italic;
  color: var(--fg-dim);
}

/* Lists */
ul, ol { margin-bottom: 1rem; }
li { margin-bottom: 0.5rem; }

/* Metadata (Dates, Author) */
.timestamp, .metadata {
  color: var(--cyan-cooler);
  font-size: 0.85em;
  font-family: 'Aporetic Sans Mono', monospace;
  display: block;
  margin-bottom: 2rem;
}

/* Tags (:emacs:linux:) */
.tag {
  color: var(--prose-tag);
  font-size: 0.8em;
  opacity: 0.8;
  vertical-align: middle;
}

/* TODO Keywords */
.todo { color: var(--red-warmer); font-weight: bold; font-family: 'Aporetic Sans Mono', monospace; }
.done { color: var(--green-warmer); font-weight: bold; font-family: 'Aporetic Sans Mono', monospace; }

/* Footer */
footer {
  margin-top: 5rem;
  border-top: 1px solid var(--border);
  padding-top: 1.5rem;
  font-size: 0.85em;
  color: var(--fg-dim);
  text-align: center;
}
